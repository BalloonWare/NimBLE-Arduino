<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>esp-nimble-cpp / NimBLE-Arduino: Bluetooth Attribute Protocol (ATT)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">esp-nimble-cpp / NimBLE-Arduino
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__bt__att.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Bluetooth Attribute Protocol (ATT)<div class="ingroups"><a class="el" href="group__bt__host.html">Bluetooth Host</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Bluetooth Attribute Protocol (ATT)  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf39c2bf9ad0660af2effdd6c6fc1df3c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bt__att.html#gaf39c2bf9ad0660af2effdd6c6fc1df3c">BLE_ATT_MTU_DFLT</a>&#160;&#160;&#160;23</td></tr>
<tr class="separator:gaf39c2bf9ad0660af2effdd6c6fc1df3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga40e7d5ec2ffc5c3bf677ddae89b1e87c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bt__att.html#ga40e7d5ec2ffc5c3bf677ddae89b1e87c">BLE_ATT_MTU_MAX</a>&#160;&#160;&#160;527</td></tr>
<tr class="separator:ga40e7d5ec2ffc5c3bf677ddae89b1e87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0486deaa1a47a606f8f687c963182515"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bt__att.html#ga0486deaa1a47a606f8f687c963182515">ble_att_svr_read_local</a> (uint16_t attr_handle, struct <a class="el" href="structos__mbuf.html">os_mbuf</a> **out_om)</td></tr>
<tr class="separator:ga0486deaa1a47a606f8f687c963182515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1d9b3d63673f48b31d48fda4092a5f7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bt__att.html#gac1d9b3d63673f48b31d48fda4092a5f7">ble_att_svr_write_local</a> (uint16_t attr_handle, struct <a class="el" href="structos__mbuf.html">os_mbuf</a> *om)</td></tr>
<tr class="separator:gac1d9b3d63673f48b31d48fda4092a5f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e460b60052455a63ccd2e7a430c9c50"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bt__att.html#ga3e460b60052455a63ccd2e7a430c9c50">ble_att_mtu</a> (uint16_t conn_handle)</td></tr>
<tr class="separator:ga3e460b60052455a63ccd2e7a430c9c50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59f2d62e489e06dbc9f3ab126a280cc9"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bt__att.html#ga59f2d62e489e06dbc9f3ab126a280cc9">ble_att_preferred_mtu</a> (void)</td></tr>
<tr class="separator:ga59f2d62e489e06dbc9f3ab126a280cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02fd3bb1a3334140d2d2b062fbfb7235"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bt__att.html#ga02fd3bb1a3334140d2d2b062fbfb7235">ble_att_set_preferred_mtu</a> (uint16_t mtu)</td></tr>
<tr class="separator:ga02fd3bb1a3334140d2d2b062fbfb7235"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Bluetooth Attribute Protocol (ATT) </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gaf39c2bf9ad0660af2effdd6c6fc1df3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_ATT_MTU_DFLT&#160;&#160;&#160;23</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default ATT MTU. Also the minimum. </p>

</div>
</div>
<a class="anchor" id="ga40e7d5ec2ffc5c3bf677ddae89b1e87c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BLE_ATT_MTU_MAX&#160;&#160;&#160;527</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>An ATT MTU of 527 allows the largest ATT command (signed write) to contain a 512-byte attribute value. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga3e460b60052455a63ccd2e7a430c9c50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ble_att_mtu </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>conn_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the ATT MTU of the specified connection. If an MTU exchange for this connection has occurred, the MTU is the lower of the two peers' preferred values. Otherwise, the MTU is the default value of 23.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn_handle</td><td>The handle of the connection to query.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The specified connection's ATT MTU, or 0 if there is no such connection. </dd></dl>

</div>
</div>
<a class="anchor" id="ga59f2d62e489e06dbc9f3ab126a280cc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t ble_att_preferred_mtu </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the preferred ATT MTU. This is the value indicated by the device during an ATT MTU exchange.</p>
<dl class="section return"><dt>Returns</dt><dd>The preferred ATT MTU. </dd></dl>

</div>
</div>
<a class="anchor" id="ga02fd3bb1a3334140d2d2b062fbfb7235"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ble_att_set_preferred_mtu </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mtu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the preferred ATT MTU; the device will indicate this value in all subsequent ATT MTU exchanges. The ATT MTU of a connection is equal to the lower of the two peers' preferred MTU values. The ATT MTU is what dictates the maximum size of any message sent during a GATT procedure.</p>
<p>The specified MTU must be within the following range: [23, BLE_ATT_MTU_MAX]. 23 is a minimum imposed by the Bluetooth specification; BLE_ATT_MTU_MAX is a NimBLE compile-time setting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtu</td><td>The preferred ATT MTU.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success; BLE_HS_EINVAL if the specified value is not within the allowed range. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0486deaa1a47a606f8f687c963182515"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ble_att_svr_read_local </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>attr_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structos__mbuf.html">os_mbuf</a> **&#160;</td>
          <td class="paramname"><em>out_om</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads a locally registered attribute. If the specified attribute handle corresponds to a GATT characteristic value or descriptor, the read is performed by calling the registered GATT access callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">attr_handle</td><td>The 16-bit handle of the attribute to read. </td></tr>
    <tr><td class="paramname">out_om</td><td>On success, this is made to point to a newly-allocated mbuf containing the attribute data read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success; NimBLE host ATT return code if the attribute access callback reports failure; NimBLE host core return code on unexpected error. </dd></dl>

</div>
</div>
<a class="anchor" id="gac1d9b3d63673f48b31d48fda4092a5f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ble_att_svr_write_local </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>attr_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structos__mbuf.html">os_mbuf</a> *&#160;</td>
          <td class="paramname"><em>om</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a locally registered attribute. This function consumes the supplied mbuf regardless of the outcome. If the specified attribute handle corresponds to a GATT characteristic value or descriptor, the write is performed by calling the registered GATT access callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">attr_handle</td><td>The 16-bit handle of the attribute to write. </td></tr>
    <tr><td class="paramname">om</td><td>The value to write to the attribute.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success; NimBLE host ATT return code if the attribute access callback reports failure; NimBLE host core return code on unexpected error. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
