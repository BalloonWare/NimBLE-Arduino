<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>esp-nimble-cpp / NimBLE-Arduino: bt_mesh_model_pub Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">esp-nimble-cpp / NimBLE-Arduino
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structbt__mesh__model__pub.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structbt__mesh__model__pub-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">bt_mesh_model_pub Struct Reference<div class="ingroups"><a class="el" href="group__bt__mesh.html">Bluetooth Mesh</a> &raquo; <a class="el" href="group__bt__mesh__access.html">Bluetooth Mesh Access Layer</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a602f69a0b966922954ca319cc6f64826"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structbt__mesh__model.html">bt_mesh_model</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a602f69a0b966922954ca319cc6f64826">mod</a></td></tr>
<tr class="separator:a602f69a0b966922954ca319cc6f64826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97bfc9c5515116351164141e2523a3f1"><td class="memItemLeft" align="right" valign="top">u16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a97bfc9c5515116351164141e2523a3f1">addr</a></td></tr>
<tr class="separator:a97bfc9c5515116351164141e2523a3f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a380dfec59d9e2e634cfc0f9f8f4e2bff"><td class="memItemLeft" align="right" valign="top">u16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a380dfec59d9e2e634cfc0f9f8f4e2bff">key</a></td></tr>
<tr class="separator:a380dfec59d9e2e634cfc0f9f8f4e2bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a8f9c905a0a1ff0a765e915c6a61fef"><td class="memItemLeft" align="right" valign="top">u8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a4a8f9c905a0a1ff0a765e915c6a61fef">ttl</a></td></tr>
<tr class="separator:a4a8f9c905a0a1ff0a765e915c6a61fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a412c89a396ee527cc39fc9a9a2b09c1b"><td class="memItemLeft" align="right" valign="top">u8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a412c89a396ee527cc39fc9a9a2b09c1b">retransmit</a></td></tr>
<tr class="separator:a412c89a396ee527cc39fc9a9a2b09c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0baf1edcaba7db2c19750766dab74c24"><td class="memItemLeft" align="right" valign="top">u8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a0baf1edcaba7db2c19750766dab74c24">period</a></td></tr>
<tr class="separator:a0baf1edcaba7db2c19750766dab74c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31dde3abcbc8dec9f22b3c7e0533793e"><td class="memItemLeft" align="right" valign="top">u8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a31dde3abcbc8dec9f22b3c7e0533793e">period_div</a>:4</td></tr>
<tr class="separator:a31dde3abcbc8dec9f22b3c7e0533793e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3b24ea878fb4bd01aafeec501326cf1"><td class="memItemLeft" align="right" valign="top">u8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#aa3b24ea878fb4bd01aafeec501326cf1">cred</a>:1</td></tr>
<tr class="separator:aa3b24ea878fb4bd01aafeec501326cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56f6d379bb67e5b67f22e8df60125e06"><td class="memItemLeft" align="right" valign="top">u8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a56f6d379bb67e5b67f22e8df60125e06">count</a>:3</td></tr>
<tr class="separator:a56f6d379bb67e5b67f22e8df60125e06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afadead51b2a4aca438ba985c3d38d472"><td class="memItemLeft" align="right" valign="top">u32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#afadead51b2a4aca438ba985c3d38d472">period_start</a></td></tr>
<tr class="separator:afadead51b2a4aca438ba985c3d38d472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a711d1f79723aad19e29ea255f8fff370"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structos__mbuf.html">os_mbuf</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a711d1f79723aad19e29ea255f8fff370">msg</a></td></tr>
<tr class="memdesc:a711d1f79723aad19e29ea255f8fff370"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publication buffer, containing the publication message.  <a href="#a711d1f79723aad19e29ea255f8fff370">More...</a><br /></td></tr>
<tr class="separator:a711d1f79723aad19e29ea255f8fff370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20fe8f8697f48a51e1e1c8374c1d3b3d"><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#a20fe8f8697f48a51e1e1c8374c1d3b3d">update</a> )(struct <a class="el" href="structbt__mesh__model.html">bt_mesh_model</a> *<a class="el" href="structbt__mesh__model__pub.html#a602f69a0b966922954ca319cc6f64826">mod</a>)</td></tr>
<tr class="memdesc:a20fe8f8697f48a51e1e1c8374c1d3b3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for updating the publication buffer.  <a href="#a20fe8f8697f48a51e1e1c8374c1d3b3d">More...</a><br /></td></tr>
<tr class="separator:a20fe8f8697f48a51e1e1c8374c1d3b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba6c926a3438291e87ee47ebffa1669"><td class="memItemLeft" align="right" valign="top">struct k_delayed_work&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structbt__mesh__model__pub.html#acba6c926a3438291e87ee47ebffa1669">timer</a></td></tr>
<tr class="separator:acba6c926a3438291e87ee47ebffa1669"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Model publication context. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a97bfc9c5515116351164141e2523a3f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u16_t bt_mesh_model_pub::addr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publish Address. </p>

</div>
</div>
<a class="anchor" id="a56f6d379bb67e5b67f22e8df60125e06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8_t bt_mesh_model_pub::count</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retransmissions left. </p>

</div>
</div>
<a class="anchor" id="aa3b24ea878fb4bd01aafeec501326cf1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8_t bt_mesh_model_pub::cred</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Friendship Credentials Flag. </p>

</div>
</div>
<a class="anchor" id="a380dfec59d9e2e634cfc0f9f8f4e2bff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u16_t bt_mesh_model_pub::key</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publish AppKey Index. </p>

</div>
</div>
<a class="anchor" id="a602f69a0b966922954ca319cc6f64826"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structbt__mesh__model.html">bt_mesh_model</a>* bt_mesh_model_pub::mod</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The model the context belongs to. Initialized by the stack. </p>

</div>
</div>
<a class="anchor" id="a711d1f79723aad19e29ea255f8fff370"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structos__mbuf.html">os_mbuf</a>* bt_mesh_model_pub::msg</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publication buffer, containing the publication message. </p>
<p>The application is expected to initialize this with a valid net_buf_simple pointer, with the help of e.g. the NET_BUF_SIMPLE() macro. The publication buffer must contain a valid publication message before calling the <a class="el" href="group__bt__mesh__access.html#ga71794c8253b1fee4aa9c211cd920aa69" title="Send a model publication message. ">bt_mesh_model_publish()</a> API or after the publication's <a class="el" href="structbt__mesh__model__pub.html#a20fe8f8697f48a51e1e1c8374c1d3b3d">bt_mesh_model_pub::update</a> callback has been called and returned success. The buffer must be created outside of function context, i.e. it must not be on the stack. This is most conveniently acheived by creating it inline when declaring the publication context: </p><pre class="fragment">static struct bt_mesh_model_pub my_pub = {
        .msg = NET_BUF_SIMPLE(size),
};</pre> 
</div>
</div>
<a class="anchor" id="a0baf1edcaba7db2c19750766dab74c24"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8_t bt_mesh_model_pub::period</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publish Period. </p>

</div>
</div>
<a class="anchor" id="a31dde3abcbc8dec9f22b3c7e0533793e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8_t bt_mesh_model_pub::period_div</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Divisor for the Period. </p>

</div>
</div>
<a class="anchor" id="afadead51b2a4aca438ba985c3d38d472"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u32_t bt_mesh_model_pub::period_start</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start of the current period. </p>

</div>
</div>
<a class="anchor" id="a412c89a396ee527cc39fc9a9a2b09c1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8_t bt_mesh_model_pub::retransmit</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retransmit Count &amp; Interval Steps. </p>

</div>
</div>
<a class="anchor" id="acba6c926a3438291e87ee47ebffa1669"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct k_delayed_work bt_mesh_model_pub::timer</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publish Period Timer. Only for stack-internal use. </p>

</div>
</div>
<a class="anchor" id="a4a8f9c905a0a1ff0a765e915c6a61fef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u8_t bt_mesh_model_pub::ttl</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Publish Time to Live. </p>

</div>
</div>
<a class="anchor" id="a20fe8f8697f48a51e1e1c8374c1d3b3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* bt_mesh_model_pub::update) (struct <a class="el" href="structbt__mesh__model.html">bt_mesh_model</a> *<a class="el" href="structbt__mesh__model__pub.html#a602f69a0b966922954ca319cc6f64826">mod</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for updating the publication buffer. </p>
<p>When set to NULL, the model is assumed not to support periodic publishing. When set to non-NULL the callback will be called periodically and is expected to update <a class="el" href="structbt__mesh__model__pub.html#a711d1f79723aad19e29ea255f8fff370">bt_mesh_model_pub::msg</a> with a valid publication message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mod</td><td>The Model the Publication Context belogs to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Zero on success or (negative) error code otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structbt__mesh__model__pub.html">bt_mesh_model_pub</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
